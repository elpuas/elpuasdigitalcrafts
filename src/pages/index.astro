---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import Divider from '../components/Divider.astro';
import { fetchGraphQL } from '../utils/fetch-graphql';
import { StructuredText } from '@datocms/astro/StructuredText';
import { HOMEPAGE_QUERY, type HomepageContent } from '../queries/homepage';

const variables = { locale: 'en' };

const data = await fetchGraphQL<HomepageContent>(HOMEPAGE_QUERY, variables);

const callout = data.homepage.content[0].content;

---

<Layout title="Welcome to ElPuas Digital Crafts">
    <main>
        <Hero buttonHref="/about" buttonLabel="Get Started">
            <h1 class="h5">Crafting Unique Experiences</h1>
            <p>We Code Digital Crafts <strong>for</strong> Humans</p>
        </Hero>
        <Divider position="right" />
        <section class="callout dots-pattern">
            <StructuredText data={callout} />
        </section>
	</main>
</Layout>

<style>
    .callout {
        text-align: center;
        position: relative;
        width: 100%;

        &::before {
            left: 0;
            top: -16px;
        }
        &::after {
            right: 10%;
            bottom: -42px;
        }
        h2,
        h2 strong {
            font-size: var(--elpuas-preset-fontsize-h3);
        }
    }
</style>
